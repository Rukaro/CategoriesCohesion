# 本地使用说明

## 快速开始

### 1. 启动后端服务

```bash
python server.py
```

服务启动后，你会看到：
```
INFO:__main__:服务启动在 http://localhost:5000
 * Running on http://0.0.0.0:5000
```

### 2. 打开本地分析工具

在浏览器中访问：
```
http://localhost:5000/
```

或者直接打开 `index.html` 文件（需要配置 API 地址）

## 使用方法

### 输入数据

1. **类目词**：输入一个类目词，例如：
   - 水果
   - 动物
   - 颜色

2. **普通词列表**：输入多个普通词，每行一个，或用逗号、分号分隔，例如：
   ```
   苹果
   香蕉
   橙子
   葡萄
   ```
   或：
   ```
   苹果, 香蕉, 橙子, 葡萄
   ```

3. **聚合方法**：选择平均值或中位数

4. **API 地址**：默认使用 `http://localhost:5000/api/calculate-cohesion`，如果后端服务在其他地址，可以修改

### 查看结果

点击"开始分析"按钮后，会显示：

- **类目内聚度**：整体评分（0-1之间，越接近1表示关联性越强）
- **类目词**：你输入的类目词
- **普通词数量**：输入的普通词个数
- **聚合方法**：使用的聚合方法
- **相似度详情**：每个普通词与类目词的相似度

## 结果解读

### 类目内聚度评分

- **0.8 - 1.0**：高度相关，类目下词语与类目词关联性很强
- **0.6 - 0.8**：中等相关，类目下词语与类目词有一定关联性
- **0.4 - 0.6**：低相关，类目下词语与类目词关联性较弱
- **0.0 - 0.4**：几乎不相关，类目下词语与类目词关联性很弱

### 聚合方法选择

- **平均值 (Mean)**：适合数据分布均匀的情况，反映整体趋势
- **中位数 (Median)**：适合有异常值的情况，更鲁棒

## 示例

### 示例 1：水果类目

- **类目词**：水果
- **普通词**：
  ```
  苹果
  香蕉
  橙子
  葡萄
  ```
- **预期结果**：内聚度应该较高（> 0.6）

### 示例 2：动物类目

- **类目词**：动物
- **普通词**：
  ```
  猫
  狗
  鸟
  鱼
  ```
- **预期结果**：内聚度应该较高（> 0.6）

### 示例 3：不相关词语

- **类目词**：水果
- **普通词**：
  ```
  汽车
  电脑
  房子
  书籍
  ```
- **预期结果**：内聚度应该较低（< 0.4）

## 常见问题

### Q: 提示"计算失败"？

**A:** 检查：
1. 后端服务是否正在运行：`python server.py`
2. API 地址是否正确
3. 浏览器控制台是否有错误信息

### Q: 如何修改 API 地址？

**A:** 在页面上的"API 地址"输入框中修改即可。

### Q: 可以离线使用吗？

**A:** 需要后端服务运行才能计算。但可以：
1. 将后端服务部署到本地服务器
2. 修改 API 地址指向你的服务器

## 技术说明

- **前端**：纯 HTML + CSS + JavaScript，无需构建工具
- **后端**：Python Flask + SBERT 模型
- **模型**：使用 `paraphrase-multilingual-MiniLM-L12-v2` 支持中文

## 优势

✅ **简单易用**：直接在浏览器中使用，无需安装  
✅ **本地运行**：数据不离开本地，保护隐私  
✅ **实时计算**：输入即可看到结果  
✅ **详细结果**：显示每个词语的相似度  

